<!DOCTYPE html>
<html>
<head>
    <title>Hover blocks</title>
    <style>

        div { position: absolute; }

    </style>
</head>

</html>

<script>

    generate_boxes();

    function generate_boxes(){

        var block_size = window.innerWidth/ 30;

        for (x=0; x < window.innerWidth / block_size -1 ; x++ ) {

            for (y=0; y<  window.innerHeight / block_size -1 ; y++){

                var div = document.createElement("div");
                div.style.width = div.style.height = block_size + "px";
                div.style.top = block_size * y  + "px";
                div.style.left = block_size * x  + "px";
                div.style.background = random_rgba();
                div.style.zIndex = 0;

                //event listeners
                div.addEventListener("mouseover",function () {
                    this.style.width = this.style.height = block_size*2 + "px";
                    this.style.zIndex = 2;
                    this.style.transition = 200+"ms";
                    this.style.top = parseInt(this.style.top) - block_size/2  + "px";
                    this.style.left = parseInt(this.style.left) - block_size/2 + "px";
                    this.removeEventListener("webkitTransitionEnd", remove);

                });
                div.addEventListener("mouseout",function () {
                    this.style.width = this.style.height = block_size + "px";
                    this.style.transition = 3000+"ms";
                    this.style.zIndex = 1;
                    this.style.top = parseInt(this.style.top) + block_size/2  + "px";
                    this.style.left = parseInt(this.style.left) + block_size/2  + "px";
                    this.addEventListener("webkitTransitionEnd", remove);
                });

                document.body.appendChild(div);

            }
        }

    }


    function random_rgba() {
        var o = Math.round, r = Math.random, s = 255;
        return 'rgba(' + o(r()*s) + ',' + o(r()*s) + ',' + o(r()*s) + ',1)';
    }

    function remove(event){
        this.style.zIndex = 0;
    }


</script>

